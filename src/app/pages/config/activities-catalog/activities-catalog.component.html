<section class="m-5">
    <p-table paginatorDropdownAppendTo="body" #dt1 [value]="activities" [rows]="10" [paginator]="true" styleClass="p-datatable-striped"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [rowsPerPageOptions]="[10, 25, 50]">
        <ng-template pTemplate="caption">
            <div class="flex justify-content-between">
                <p><strong>Activities Catalog</strong></p>
                <div class="flex justify-content-end">
                    <button pButton label="Create" class="p-button-outlined" icon="pi pi-plus" (click)="showDialog()"></button>
                </div>
            </div>
        </ng-template>
        <ng-template pTemplate="header">
            <tr>
                <th><strong>Activity Name</strong></th>
                <th><strong>Description</strong></th>
                <th><strong>MacroProcess</strong></th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-product>
            <tr>
                <td>{{product.projectsactivities}}</td>
                <td>{{product.LargeDescriptionactivities}}</td>
                <td>{{product.macroprocess}}</td>
                <td>
                    <p-button class="m-2" icon="pi pi-pencil" label="Edit" (click)="onRowSelected(product)"></p-button>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="3">No activities found.</td>
            </tr>
        </ng-template>
    </p-table>
</section>

<p-dialog header="Activity Form" [(visible)]="visible" [responsive]="true" [style]="{width: '50vw'}" (onHide)="hideDialog()">
    <div class="grid" [formGroup]="activityForm">
        <div class="col-12 md:col-6">
            <span class="p-float-label">
                <input pInputText id="username" type="text" formControlName="projectsactivities" />
                <label htmlFor="username">Activity Name</label>
            </span>
        </div>
        <div class="col-12 md:col-6">
            <span class="p-float-label">
                <input pInputText id="username" type="text" formControlName="LargeDescriptionactivities" />
                <label htmlFor="username">Description</label>
            </span>
        </div>
        <div class="col-12 md:col-12">
            <span class="p-float-label">
                <p-dropdown [options]="macroprocess" appendTo="body" formControlName="Idmacroprocess" placeholder="MacroProcess" optionValue="Idmacroprocess" optionLabel="macroprocess"></p-dropdown>
                <label htmlFor="username">MacroProcess</label>
            </span>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <div class="flex justify-content-between">
            <div>
                <button *ngIf="activitySelected" type="button" (click)="confirm($event)" pButton icon="pi pi-trash" label="Delete Activity"></button>
            </div>
            <div>
                <button type="button" (click)="saveActivity()" pButton icon="pi pi-save" label="Save activity"></button>
            </div>
        </div>
    </ng-template>
</p-dialog>
<p-confirmPopup></p-confirmPopup>
